{% extends 'base.html.twig' %}

{% block title %}Mon super site{% endblock %}

{% block body %}

<div class="container" id="productPage">
    <h1>{{language["products"]}}</h1>

    <form action="" method="get">

        <label class="form-label">{{language["title"]}} : </label><br/>
        <input class="form-control" type="text" value="{{get["title"]}}" placeholder="{{language["title"]}}" name="title"><br/>

        <label class="form-label">{{language["volume"]}} : </label><br/>
        <input class="form-control" type="text" value="{{get["volume"]}}" placeholder="{{language["volume"]}}" name="volume"><br/>

        <div class="product_flexbox">
            <div>
                <label class="form-label">{{language["price"]}} : </label><br/>

                <input class="form-check-input" type="radio" name="price" id="price_asc" value="asc" 
                {% if get["price"] == "asc" %}
                    checked
                {% endif %}>
                <label for="price_asc">{{language["ascending"]}}</label><br/>

                <input class="form-check-input" type="radio" name="price" id="price_desc" value="desc"
                {% if get["price"] == "desc" %}
                    checked
                {% endif %}>
                <label for="price_desc">{{language["descending"]}}</label><br/>

                <input class="form-check-input" type="radio" name="price" id="price_none" value="no"
                {% if get["price"] == "no" %}
                        checked
                    {% endif %}
                    >
                <label for="price_none">{{language["noUseFilter"]}}</label><br/>
            </div>
            <div>
                <label class="form-label">{{language["volume"]}} : </label><br/>

                <input class="form-check-input" type="radio" name="sort_volume" id="volume_asc" value="asc" 
                    {% if get["sort_volume"] == "asc" %}
                        checked
                    {% endif %}
                    >
                        
                <label for="volume_asc">{{language["ascending"]}}</label><br/>

                <input class="form-check-input" type="radio" name="sort_volume" id="volume_desc" value="desc"
                {% if get["sort_volume"] == "desc" %}
                    checked
                {% endif %}>
                <label for="volume_desc">{{language["descending"]}}</label><br/>

                <input class="form-check-input" type="radio" name="sort_volume" id="volume_none" value="no"
                {% if get["sort_volume"] == "no" %}
                        checked
                    {% endif %}
                    >
                <label for="volume_none">{{language["noUseFilter"]}}</label><br/>
            </div>
            <div>
                <label class="form-label">{{language["stock"]}}</label></br>

                <input class="form-check-input" type="checkbox" name="available" id="stock" value="true"
                
                {% if get["available"] %}
                    checked
                {% endif %}
                >
                <label for="stock">{{language["onlyAvailable"]}}</label>
            </div>
        </div><br/>
        <div class="text-center">
            <input type="submit" class="submit btn btn-primary" value="{{language["filter"]}}" >
        </div>
    </form>

    <div id="product_list">
        {% for manga in mangas %}

            {% if loop.index % 2 != 0 %}
                <div class="flex_row">
            {% endif %}

                    <div class="product">
                        <img src="{{manga.unique_cover}}"/>
                        <div class="vertical_flex">
                            <div class="top">
                                <h3>{{manga.title}} {{manga.volume}}</h3>
                                <ul>    
                                    <li>{{language["author"]}} : {{manga.author}}</li>
                                    <li>{{language["artist"]}} : {{manga.artist}}</li>
                                    <li>{{language["category"]}} : {{manga.category}}</li>
                                </ul>
                            </div>
                            <div class="bottom">
                                {{manga.stock}} {{language["available"]}}<br/>
                                {{manga.price}}â‚¬<br/>
                                <a href="/manga?id={{manga.id}}"><button class="btn btn-primary">Voir page produit</button></a>
                            </div>
                        </div>
                    </div>

            {% if loop.index % 2 == 0 %}
                </div>
            {% endif %}
            <br/>
        {% endfor %}
    </div>
</div>

{% endblock %}